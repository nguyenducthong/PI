/*
* bootstrap-table - v1.9.1 - 2015-10-25
* https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2015 zhixin wen
* Licensed MIT License
*/
!function(){"undefined"!=typeof angular&&angular.module("bsTable",[]).directive("bsTableControl",["$compile",function(a){function f(a){var c;return $.each(e,function(d,e){if(e.$el.closest(b).has(a).length)return c=e,!0}),c}function g(){var a=this,b=a.$s.bsTableControl.state;a.$s.$applyAsync(function(){b.scroll=a.$el.bootstrapTable("getScrollPosition")})}var b=".bootstrap-table",c=".fixed-table-body",d=".search input",e={};return $(window).resize(function(){$.each(e,function(a,b){b.$el.bootstrapTable("resetView")})}),$(document).on("post-header.bs.table",b+" table",function(a){var d=f(a.target);d&&d.$el.closest(b).find(c).on("scroll",g.bind(d))}).on("sort.bs.table",b+" table",function(a,b,c){var d=f(a.target);if(d){var e=d.$s.bsTableControl.state;d.$s.$applyAsync(function(){e.sortName=b,e.sortOrder=c})}}).on("page-change.bs.table",b+" table",function(a,b,c){var d=f(a.target);if(d){var e=d.$s.bsTableControl.state;d.$s.$applyAsync(function(){e.pageNumber=b,e.pageSize=c})}}).on("search.bs.table",b+" table",function(a,b){var c=f(a.target);if(c){var d=c.$s.bsTableControl.state;c.$s.$applyAsync(function(){d.searchText=b})}}).on("focus blur",b+" "+d,function(a){var b=f(a.target);if(b){var c=b.$s.bsTableControl.state;b.$s.$applyAsync(function(){c.searchHasFocus=$(a.target).is(":focus")})}}),{restrict:"EA",scope:{bsTableControl:"="},link:function(c,f){e[c.$id]={$s:c,$el:f};c.instantiated=!1,c.$watch("bsTableControl.options",function(a){a||(a=c.bsTableControl.options={});var e=c.bsTableControl.state||{};c.instantiated&&f.bootstrapTable("destroy"),f.bootstrapTable(angular.extend(angular.copy(a),e)),c.instantiated=!0,"scroll"in e&&f.bootstrapTable("scrollTo",e.scroll),"searchHasFocus"in e&&f.closest(b).find(d).focus()},!0),c.$watch("bsTableControl.state",function(a){a||(a=c.bsTableControl.state={}),f.trigger("directive-updated.bs.table",[a])},!0),f.bind("post-body.bs.table",function(){a(f.contents())(c)}),c.$on("$destroy",function(){delete e[c.$id]})}}}])}();