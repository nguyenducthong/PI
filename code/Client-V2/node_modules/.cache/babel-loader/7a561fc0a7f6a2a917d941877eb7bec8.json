{"ast":null,"code":"import _classCallCheck from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\src\\\\app\\\\views\\\\IntroduceTheProgram\\\\IntroduceTheProgram.jsx\";\nimport React, { Component } from 'react';\nimport { IconButton, Table, TableHead, TableBody, TableRow, TableCell, Icon, TablePagination, Button, Card, Grid } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { Helmet } from 'react-helmet';\nimport { toast } from 'react-toastify';\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\nimport UploadImage from \"./UploadImage\";\nimport ConstantList from \"../../appConfig\";\nimport { getCurrentUser } from \"../page-layouts/UserProfileService\";\nimport authService from \"../../services/jwtAuthService\";\nimport TabsHealthOrgRegisterForm from \"./Tab\";\nvar API_PATH = ConstantList.API_ENPOINT + \"/api/fileUpload/\";\n\nvar IntroduceTheProgram = /*#__PURE__*/function (_Component) {\n  _inherits(IntroduceTheProgram, _Component);\n\n  var _super = _createSuper(IntroduceTheProgram);\n\n  function IntroduceTheProgram() {\n    var _this;\n\n    _classCallCheck(this, IntroduceTheProgram);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      checkAdmin: false,\n      open: true,\n      shouldOpenImageDialog: false,\n      shouldOpenPasswordDialog: false,\n      checkHealthOrg: false\n    };\n\n    _this.handleDialogClose = function () {\n      _this.setState({\n        shouldOpenImageDialog: false\n      });\n    };\n\n    _this.handleOpenUploadDialog = function () {\n      _this.setState({\n        shouldOpenImageDialog: true\n      });\n    };\n\n    _this.handleUpdate = function (blobValue) {\n      var t = _this.props.t;\n      var url = ConstantList.API_ENPOINT + \"/api/users/updateavatar\";\n      var formData = new FormData();\n      formData.set('uploadfile', blobValue); //formData.append('uploadfile',file);//Lưu ý tên 'uploadfile' phải trùng với tham số bên Server side\n\n      var config = {\n        headers: {\n          'Content-Type': 'image/jpg'\n        }\n      };\n      return axios.post(url, formData, config).then(function (response) {\n        toast.success(t(\"update_success_message\"));\n        var user = response.data;\n\n        _this.setState({\n          user: user\n        });\n\n        authService.setLoginUser(user);\n\n        _this.handleDialogClose();\n      }).catch(function () {\n        toast.warning(t(\"error_update_image\"));\n      });\n    };\n\n    _this.componentWillMount = function () {\n      getCurrentUser().then(function (_ref) {\n        var data = _ref.data;\n        data.roles.forEach(function (role) {\n          if (role.name === \"ROLE_ADMIN\" || role.name === \"ROLE_SUPER_ADMIN\") {\n            _this.setState({\n              checkAdmin: true\n            });\n          }\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(IntroduceTheProgram, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          t = _this$props.t,\n          i18n = _this$props.i18n;\n      var homepage = this.props.homepage;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: homepage == undefined ? \"m-sm-30\" : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, homepage == undefined && /*#__PURE__*/React.createElement(Helmet, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 44\n        }\n      }, /*#__PURE__*/React.createElement(\"title\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }\n      }, t(\"Intro.title\"), \" | \", t(\"web_site\"))), homepage == undefined && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-sm-30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 44\n        }\n      }, /*#__PURE__*/React.createElement(Breadcrumb, {\n        routeSegments: [{\n          name: t(\"Dashboard.dashboard\"),\n          path: \"/dashboard/intro\"\n        }, {\n          name: t(\"Intro.title\")\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(TabsHealthOrgRegisterForm, {\n        t: t,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return IntroduceTheProgram;\n}(Component);\n\nexport default IntroduceTheProgram;","map":{"version":3,"sources":["E:/DoAnTotNghiep/code/Client-V2/src/app/views/IntroduceTheProgram/IntroduceTheProgram.jsx"],"names":["React","Component","IconButton","Table","TableHead","TableBody","TableRow","TableCell","Icon","TablePagination","Button","Card","Grid","axios","Helmet","toast","Breadcrumb","ConfirmationDialog","UploadImage","ConstantList","getCurrentUser","authService","TabsHealthOrgRegisterForm","API_PATH","API_ENPOINT","IntroduceTheProgram","state","checkAdmin","open","shouldOpenImageDialog","shouldOpenPasswordDialog","checkHealthOrg","handleDialogClose","setState","handleOpenUploadDialog","handleUpdate","blobValue","t","props","url","formData","FormData","set","config","headers","post","then","response","success","user","data","setLoginUser","catch","warning","componentWillMount","roles","forEach","role","name","i18n","homepage","undefined","path"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n    IconButton,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableRow,\r\n    TableCell,\r\n    Icon,\r\n    TablePagination,\r\n    Button,\r\n    Card,\r\n    Grid\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { Helmet } from 'react-helmet';\r\nimport { toast } from 'react-toastify';\r\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\r\nimport UploadImage from \"./UploadImage\";\r\nimport ConstantList from \"../../appConfig\";\r\nimport {getCurrentUser} from \"../page-layouts/UserProfileService\";\r\nimport authService from \"../../services/jwtAuthService\";\r\nimport TabsHealthOrgRegisterForm from \"./Tab\";\r\n\r\nconst API_PATH = ConstantList.API_ENPOINT + \"/api/fileUpload/\";\r\nclass IntroduceTheProgram extends Component {\r\n    state = {\r\n        checkAdmin: false,\r\n        open: true, \r\n        shouldOpenImageDialog: false, \r\n        shouldOpenPasswordDialog: false,\r\n        checkHealthOrg: false\r\n      };\r\n    handleDialogClose = () => {\r\n        this.setState({\r\n          shouldOpenImageDialog: false\r\n        })\r\n      }\r\n    handleOpenUploadDialog = () => {\r\n        this.setState({\r\n          shouldOpenImageDialog: true\r\n        });\r\n    }\r\n    handleUpdate = (blobValue) => {\r\n        let { t } = this.props;\r\n        const url = ConstantList.API_ENPOINT + \"/api/users/updateavatar\";\r\n        let formData = new FormData();\r\n        formData.set('uploadfile', blobValue)\r\n        //formData.append('uploadfile',file);//Lưu ý tên 'uploadfile' phải trùng với tham số bên Server side\r\n        const config = {\r\n          headers: {\r\n            'Content-Type': 'image/jpg'\r\n          }\r\n        }\r\n        return axios.post(url, formData, config).then(response => {\r\n          toast.success(t(\"update_success_message\"));\r\n          let user = response.data;\r\n          this.setState({ user: user });\r\n          authService.setLoginUser(user);\r\n          this.handleDialogClose();\r\n        }).catch(() => {\r\n          toast.warning(t(\"error_update_image\"));\r\n        });\r\n    }\r\n    componentWillMount = () => {\r\n        \r\n        getCurrentUser().then(({data}) => {\r\n            data.roles.forEach((role) => {\r\n                if (role.name === \"ROLE_ADMIN\" || role.name === \"ROLE_SUPER_ADMIN\") {\r\n                    this.setState({checkAdmin: true});\r\n                }\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n        const { t, i18n } = this.props;\r\n        let {homepage} = this.props;\r\n        return (\r\n            <div className={homepage == undefined ? \"m-sm-30\" : \"\"}>\r\n                {homepage == undefined && (<Helmet>\r\n                    <title>\r\n                        {t(\"Intro.title\")} | {t(\"web_site\")}\r\n                    </title>\r\n                </Helmet>)}\r\n                {homepage == undefined && (<div className=\"mb-sm-30\">\r\n                    <Breadcrumb\r\n                        routeSegments={[{ name: t(\"Dashboard.dashboard\"), path: \"/dashboard/intro\" }, { name: t(\"Intro.title\") }]}\r\n                    />\r\n                </div>)}\r\n                <Grid>\r\n                    <TabsHealthOrgRegisterForm t={t}/>\r\n                </Grid>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default IntroduceTheProgram;"]},"metadata":{},"sourceType":"module"}