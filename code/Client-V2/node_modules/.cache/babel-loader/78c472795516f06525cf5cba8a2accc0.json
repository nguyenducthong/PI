{"ast":null,"code":"import _objectSpread from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\src\\\\app\\\\views\\\\ReportSimilarityReagent\\\\ReportSimilarityReagent.jsx\";\nimport { FormControl, Input, Radio, InputAdornment, Grid, MuiThemeProvider, IconButton, Icon, TextField, Button, TableHead, TableCell, TableRow, Checkbox, TablePagination } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport MaterialTable, { MTableToolbar, Chip, MTableBody, MTableHeader } from 'material-table';\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\nimport { searchPlanning, getByReportSimilarityReagent, exportToExcel, searchByPage, getEQASampleTubeByHealthOrgEQARoundId, getEQARoundsByPlanning, getEQASample } from \"./ReportSimilarityReagentService\";\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\nimport { Link } from \"react-router-dom\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { searchByPage as searchByPageEQARound } from \"../EQARound/EQARoundService\";\nimport { getCurrentUser, getListHealthOrgByUser } from \"../User/UserService\";\nimport { Helmet } from 'react-helmet';\nimport { toast } from 'react-toastify';\nimport { saveAs } from 'file-saver';\nimport 'react-toastify/dist/ReactToastify.css';\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 3\n});\n\nfunction MaterialButton(props) {\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var item = props.item;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    onClick: function onClick() {\n      return props.onSelect(item, 0);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    fontSize: \"small\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, \"edit\")), /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    onClick: function onClick() {\n      return props.onSelect(item, 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    fontSize: \"small\",\n    color: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, \"delete\")));\n}\n\nvar ReportSimilarityReagent = /*#__PURE__*/function (_React$Component) {\n  _inherits(ReportSimilarityReagent, _React$Component);\n\n  var _super = _createSuper(ReportSimilarityReagent);\n\n  function ReportSimilarityReagent(props) {\n    var _this;\n\n    _classCallCheck(this, ReportSimilarityReagent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      rowsPerPage: 10,\n      page: 0,\n      data: [],\n      totalElements: 0,\n      itemList: [],\n      shouldOpenEditorDialog: false,\n      shouldOpenConfirmationDialog: false,\n      shouldOpenConfirmationDeleteAllDialog: false,\n      listEQARound: [],\n      keyword: '',\n      listSample: [],\n      round: null,\n      shouldOpenConfirmationEditDialog: false,\n      shouldOpenDialog: false\n    };\n\n    _this.handleTextSearchChange = function (event) {\n      _this.setState({\n        keyword: event.target.value\n      }, function () {});\n    };\n\n    _this.handleKeyDownEnterSearch = function (e) {\n      if (e.key === 'Enter') {\n        _this.search();\n      }\n    };\n\n    _this.updatePageData = function () {\n      var searchObject = {};\n      searchObject.text = _this.state.keyword;\n      searchObject.round = _this.state.round ? _this.state.round : null;\n      searchObject.typeMethod = 1;\n      searchObject.pageIndex = _this.state.page + 1;\n      searchObject.pageSize = _this.state.rowsPerPage;\n      getByReportSimilarityReagent(searchObject, _this.state.page, _this.state.rowsPerPage).then(function (_ref) {\n        var data = _ref.data;\n\n        _this.setState({\n          itemList: _toConsumableArray(data.content),\n          totalElements: data.totalElements\n        });\n      });\n    };\n\n    _this.handleFilterEQARound = function (event, round, reason, details) {\n      if (round != null) {\n        getEQASample(round.id).then(function (data) {\n          var p = {};\n          var listSample = [];\n\n          var list = _toConsumableArray(data.data);\n\n          list.forEach(function (element) {\n            p = _objectSpread({}, element.eqaSample);\n            listSample.push(p);\n          });\n\n          _this.setState({\n            sample: null,\n            listSample: list\n          }, function () {});\n        });\n\n        _this.setState({\n          HealthOrgEQARound: round,\n          round: round\n        }, function () {});\n\n        if (reason == 'clear') {\n          _this.setState({\n            round: null\n          });\n        }\n      } else {\n        _this.setState({\n          HealthOrgEQARound: null,\n          sample: null,\n          listSample: []\n        });\n      }\n    };\n\n    _this.handleFilterEQASample = function (event, item) {\n      _this.setState({\n        sample: item ? item : null,\n        sampleId: item ? item.id : null\n      }, function () {\n        if (_this.state.sampleId != null) {\n          getByReportSimilarityReagent(_this.state.sampleId).then(function (_ref2) {\n            var data = _ref2.data;\n\n            _this.setState({\n              itemList: _toConsumableArray(data)\n            });\n          }, function () {});\n        }\n      });\n    };\n\n    _this.setPage = function (page) {\n      _this.setState({\n        page\n      }, function () {\n        this.updatePageData();\n      });\n    };\n\n    _this.setRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value,\n        page: 0\n      }, function () {\n        this.updatePageData();\n      });\n    };\n\n    _this.handleChangePage = function (event, newPage) {\n      _this.setPage(newPage);\n    };\n\n    _this.handleOKEditClose = function () {\n      _this.setState({\n        shouldOpenEditorDialog: false,\n        shouldOpenConfirmationDialog: false,\n        shouldOpenConfirmationEditDialog: false,\n        shouldOpenDialog: false\n      });\n\n      _this.setPage(0);\n    };\n\n    _this.handleDelete = function (id) {\n      _this.setState({\n        id,\n        shouldOpenConfirmationDialog: true\n      });\n    };\n\n    _this.handleDialogClose = function () {\n      _this.setState({\n        shouldOpenEditorDialog: false,\n        shouldOpenConfirmationDialog: false,\n        shouldOpenConfirmationDeleteAllDialog: false,\n        shouldOpenConfirmationEditDialog: false,\n        shouldOpenDialog: false\n      });\n    };\n\n    _this.handleOKEditClose = function () {\n      _this.setState({\n        shouldOpenEditorDialog: false,\n        shouldOpenConfirmationDialog: false,\n        shouldOpenConfirmationDeleteAllDialog: false,\n        shouldOpenConfirmationEditDialog: false,\n        shouldOpenDialog: false\n      });\n\n      _this.setPage(0);\n    };\n\n    _this.exportToExcel = function () {\n      var t = _this.props.t;\n      var searchObject = {};\n\n      if (_this.state.sampleId == null || _this.state.sampleId == \"\") {\n        toast.warn(t(\"EQASampleSet.please_select_eqa_sample\"));\n        return;\n      }\n\n      exportToExcel(_this.state.round ? _this.state.round.id : \"\").then(function (res) {\n        var blob = new Blob([res.data], {\n          type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n        });\n        saveAs(blob, 'EQAResultReport.xlsx');\n      }).catch(function (err) {// console.log(err)\n      });\n    };\n\n    _this.handleFilterEQAPlanning = function (event, item) {\n      // console.log(item);\n      if (item != null && item.id != null) {\n        _this.setState({\n          planning: item ? item : null,\n          planningId: item ? item.id : null\n        }, function () {\n          if (_this.state.planningId != null) {\n            getEQARoundsByPlanning(_this.state.planningId).then(function (_ref3) {\n              var data = _ref3.data;\n\n              if (data != null && data.length > 0) {\n                _this.setState({\n                  HealthOrgEQARound: null,\n                  sample: null,\n                  listEQARound: _toConsumableArray(data)\n                });\n              }\n            });\n          }\n        });\n      } else {\n        _this.setState({\n          HealthOrgEQARound: null,\n          sample: null,\n          listEQARound: [],\n          listSample: []\n        });\n      }\n    };\n\n    _this.handleTextSearchChange = _this.handleTextSearchChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ReportSimilarityReagent, [{\n    key: \"search\",\n    value: function search() {\n      var _this2 = this;\n\n      var searchObject = {};\n      searchObject.typeMethod = 1;\n      searchObject.text = this.state.keyword.trim();\n      searchObject.round = this.state.round ? this.state.round : null;\n      searchObject.pageIndex = 1;\n      searchObject.pageSize = this.state.rowsPerPage;\n      getByReportSimilarityReagent(searchObject, this.state.page, this.state.rowsPerPage).then(function (_ref4) {\n        var data = _ref4.data;\n\n        _this2.setState({\n          itemList: _toConsumableArray(data.content),\n          totalElements: data.totalElements\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var searchObject = {\n        pageIndex: 1,\n        pageSize: 1000000\n      };\n      searchPlanning(searchObject).then(function (_ref5) {\n        var data = _ref5.data;\n\n        _this3.setState({\n          listPlanning: _toConsumableArray(data.content)\n        });\n      }); // this.updatePageData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          t = _this$props.t,\n          i18n = _this$props.i18n;\n      var _this$state = this.state,\n          listPlanning = _this$state.listPlanning,\n          planning = _this$state.planning,\n          listEQARound = _this$state.listEQARound,\n          round = _this$state.round,\n          HealthOrgEQARound = _this$state.HealthOrgEQARound,\n          sample = _this$state.sample,\n          listSample = _this$state.listSample;\n      var columns = [{\n        title: t(\"ResultsOfTheUnits.STT\"),\n        width: \"50\",\n        align: \"left\",\n        render: function render(rowData) {\n          return rowData.tableData.id + 1;\n        }\n      }, {\n        title: t(\"EqaResult.reagent\"),\n        field: \"reagentName\",\n        align: \"left\",\n        width: \"150\",\n        headerStyle: {\n          minWidth: \"250px\",\n          paddingLeft: \"10px\",\n          paddingRight: \"0px\"\n        },\n        cellStyle: {\n          minWidth: \"250px\",\n          paddingLeft: \"10px\",\n          paddingRight: \"0px\",\n          textAlign: \"left\"\n        }\n      }, {\n        title: t(\"ReportSimilarityReagent.title\"),\n        field: \"percentSimilarity\",\n        width: \"150\",\n        headerStyle: {\n          minWidth: \"150px\",\n          paddingLeft: \"10px\",\n          paddingRight: \"0px\"\n        },\n        cellStyle: {\n          minWidth: \"150px\",\n          paddingLeft: \"10px\",\n          paddingRight: \"0px\",\n          textAlign: \"left\"\n        }\n      }, {\n        title: t(\"ReportSimilarityReagent.countHealthOrg\"),\n        field: \"countHealthOrg\",\n        width: \"150\",\n        headerStyle: {\n          minWidth: \"150px\",\n          paddingLeft: \"10px\",\n          paddingRight: \"0px\"\n        },\n        cellStyle: {\n          minWidth: \"150px\",\n          paddingLeft: \"10px\",\n          paddingRight: \"0px\",\n          textAlign: \"left\"\n        }\n      }, {\n        title: t(\"ReportSimilarityReagent.similarityRate\"),\n        field: \"similarityRate\",\n        width: \"150\",\n        headerStyle: {\n          minWidth: \"150px\",\n          paddingLeft: \"10px\",\n          paddingRight: \"0px\"\n        },\n        cellStyle: {\n          minWidth: \"150px\",\n          paddingLeft: \"10px\",\n          paddingRight: \"0px\",\n          textAlign: \"left\"\n        }\n      }];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"m-sm-30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-sm-30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Helmet, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"title\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }\n      }, t(\"ReportSimilarityReagent.title\"), \" | \", t(\"web_site\"))), /*#__PURE__*/React.createElement(Breadcrumb, {\n        routeSegments: [{\n          name: t(\"ReportResult.title\"),\n          path: \"/directory/apartment\"\n        }, {\n          name: t(\"ReportSimilarityReagent.title\")\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        ld: 3,\n        md: 3,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"mb-16 align-bottom\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.exportToExcel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }\n      }, t('general.exportToExcel'))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 3,\n        md: 3,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Autocomplete, {\n        size: \"small\",\n        id: \"combo-box\",\n        options: listPlanning,\n        className: \"flex-end\",\n        getOptionLabel: function getOptionLabel(option) {\n          return option.code;\n        },\n        onChange: this.handleFilterEQAPlanning,\n        value: planning,\n        renderInput: function renderInput(params) {\n          return /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n            label: t('ResultsOfTheUnits.eqaPlanning'),\n            variant: \"outlined\",\n            __self: _this4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 40\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 3,\n        md: 3,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Autocomplete, {\n        size: \"small\",\n        id: \"combo-box\",\n        options: listEQARound,\n        className: \"flex-end\",\n        getOptionLabel: function getOptionLabel(option) {\n          return option.code;\n        },\n        onChange: this.handleFilterEQARound,\n        value: HealthOrgEQARound ? HealthOrgEQARound : \"\",\n        renderInput: function renderInput(params) {\n          return /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n            label: t('general.fillterByRoundEQA'),\n            variant: \"outlined\",\n            __self: _this4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 40\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 3,\n        md: 3,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Autocomplete, {\n        size: \"small\",\n        id: \"combo-box\",\n        options: listSample,\n        className: \"flex-end\",\n        getOptionLabel: function getOptionLabel(option) {\n          return option.code;\n        },\n        onChange: this.handleFilterEQASample,\n        value: sample ? sample : \"\",\n        renderInput: function renderInput(params) {\n          return /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n            label: t('general.fillterBySampleEQA'),\n            variant: \"outlined\",\n            __self: _this4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 40\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }\n      }, this.state.shouldOpenConfirmationDialog && /*#__PURE__*/React.createElement(ConfirmationDialog, {\n        title: t(\"confirm\"),\n        open: this.state.shouldOpenConfirmationDialog,\n        onConfirmDialogClose: this.handleDialogClose,\n        onYesClick: this.handleConfirmationResponse,\n        text: t('DeleteConfirm'),\n        Yes: t('general.Yes'),\n        No: t('general.No'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 17\n        }\n      }), this.state.shouldOpenConfirmationEditDialog && /*#__PURE__*/React.createElement(ConfirmationDialog, {\n        title: t(\"confirm\"),\n        open: this.state.shouldOpenConfirmationEditDialog,\n        onConfirmDialogClose: this.handleDialogClose,\n        onYesClick: this.handleConfirmationEdit,\n        text: t('EQAResultReportFastTest.editConfirm'),\n        Yes: t('general.Yes'),\n        No: t('general.No'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(MaterialTable, {\n        title: t('ReportSimilarityReagent.list'),\n        data: this.state.itemList,\n        columns: columns //   parentChildData={(row, rows) => {\n        //     var list = rows.find(a => a.id === row.parentId);\n        //     return list;\n        //   }}\n        ,\n        options: {\n          selection: false,\n          actionsColumnIndex: -1,\n          paging: false,\n          search: false,\n          rowStyle: function rowStyle(rowData, index) {\n            return {\n              backgroundColor: index % 2 === 1 ? '#EEE' : '#FFF'\n            };\n          },\n          maxBodyHeight: '450px',\n          minBodyHeight: '370px',\n          headerStyle: {\n            backgroundColor: '#358600',\n            color: '#fff'\n          },\n          padding: 'dense',\n          toolbar: false\n        },\n        components: {\n          Toolbar: function Toolbar(props) {\n            return /*#__PURE__*/React.createElement(MTableToolbar, Object.assign({}, props, {\n              __self: _this4,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }\n            }));\n          }\n        },\n        onSelectionChange: function onSelectionChange(rows) {\n          _this4.data = rows;\n        },\n        localization: {\n          body: {\n            emptyDataSourceMessage: \"\".concat(t(\"general.emptyDataMessageTable\"))\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(TablePagination, {\n        align: \"left\",\n        className: \"px-16\",\n        rowsPerPageOptions: [1, 2, 3, 5, 10, 25],\n        component: \"div\",\n        labelRowsPerPage: t('general.rows_per_page'),\n        labelDisplayedRows: function labelDisplayedRows(_ref6) {\n          var from = _ref6.from,\n              to = _ref6.to,\n              count = _ref6.count;\n          return \"\".concat(from, \"-\").concat(to, \" \").concat(t('general.of'), \" \").concat(count !== -1 ? count : \"more than \".concat(to));\n        },\n        count: this.state.totalElements,\n        rowsPerPage: this.state.rowsPerPage,\n        page: this.state.page,\n        backIconButtonProps: {\n          \"aria-label\": \"Previous Page\"\n        },\n        nextIconButtonProps: {\n          \"aria-label\": \"Next Page\"\n        },\n        onChangePage: this.handleChangePage,\n        onChangeRowsPerPage: this.setRowsPerPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return ReportSimilarityReagent;\n}(React.Component);\n\nexport default ReportSimilarityReagent;","map":{"version":3,"sources":["E:/DoAnTotNghiep/code/Client-V2/src/app/views/ReportSimilarityReagent/ReportSimilarityReagent.jsx"],"names":["FormControl","Input","Radio","InputAdornment","Grid","MuiThemeProvider","IconButton","Icon","TextField","Button","TableHead","TableCell","TableRow","Checkbox","TablePagination","moment","React","Component","ReactDOM","MaterialTable","MTableToolbar","Chip","MTableBody","MTableHeader","useTranslation","withTranslation","Trans","searchPlanning","getByReportSimilarityReagent","exportToExcel","searchByPage","getEQASampleTubeByHealthOrgEQARoundId","getEQARoundsByPlanning","getEQASample","Breadcrumb","ConfirmationDialog","Link","SearchIcon","Autocomplete","searchByPageEQARound","getCurrentUser","getListHealthOrgByUser","Helmet","toast","saveAs","configure","autoClose","draggable","limit","MaterialButton","props","t","i18n","item","onSelect","ReportSimilarityReagent","state","rowsPerPage","page","data","totalElements","itemList","shouldOpenEditorDialog","shouldOpenConfirmationDialog","shouldOpenConfirmationDeleteAllDialog","listEQARound","keyword","listSample","round","shouldOpenConfirmationEditDialog","shouldOpenDialog","handleTextSearchChange","event","setState","target","value","handleKeyDownEnterSearch","e","key","search","updatePageData","searchObject","text","typeMethod","pageIndex","pageSize","then","content","handleFilterEQARound","reason","details","id","p","list","forEach","element","eqaSample","push","sample","HealthOrgEQARound","handleFilterEQASample","sampleId","setPage","setRowsPerPage","handleChangePage","newPage","handleOKEditClose","handleDelete","handleDialogClose","warn","res","blob","Blob","type","catch","err","handleFilterEQAPlanning","planning","planningId","length","bind","trim","listPlanning","columns","title","width","align","render","rowData","tableData","field","headerStyle","minWidth","paddingLeft","paddingRight","cellStyle","textAlign","name","path","option","code","params","handleConfirmationResponse","handleConfirmationEdit","selection","actionsColumnIndex","paging","rowStyle","index","backgroundColor","maxBodyHeight","minBodyHeight","color","padding","toolbar","Toolbar","rows","body","emptyDataSourceMessage","from","to","count"],"mappings":"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","sourcesContent":["import { FormControl, Input,Radio, InputAdornment, Grid, MuiThemeProvider, IconButton, Icon, TextField, Button, TableHead, TableCell, TableRow, Checkbox, TablePagination } from \"@material-ui/core\";\r\nimport moment from \"moment\";\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport MaterialTable, { MTableToolbar, Chip, MTableBody, MTableHeader } from 'material-table';\r\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\r\nimport { searchPlanning,getByReportSimilarityReagent,exportToExcel,searchByPage,getEQASampleTubeByHealthOrgEQARoundId,getEQARoundsByPlanning,getEQASample } from \"./ReportSimilarityReagentService\";\r\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { searchByPage as searchByPageEQARound } from \"../EQARound/EQARoundService\";\r\nimport {getCurrentUser,getListHealthOrgByUser} from \"../User/UserService\"\r\nimport { Helmet } from 'react-helmet';\r\nimport { toast } from 'react-toastify';\r\nimport { saveAs } from 'file-saver';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure({\r\n  autoClose: 1000,\r\n  draggable: false,\r\n  limit:3\r\n});\r\nfunction MaterialButton(props) {\r\n  const { t, i18n } = useTranslation();\r\n  const item = props.item;\r\n  return <div>\r\n    <IconButton size=\"small\" onClick={() => props.onSelect(item, 0)}>\r\n      <Icon fontSize=\"small\" color=\"primary\">edit</Icon>\r\n    </IconButton>\r\n    <IconButton size=\"small\" onClick={() => props.onSelect(item, 1)}>\r\n      <Icon fontSize=\"small\" color=\"error\">delete</Icon>\r\n    </IconButton>\r\n  </div>;\r\n}\r\nclass ReportSimilarityReagent extends React.Component {\r\n  state = {\r\n    rowsPerPage: 10,\r\n    page: 0,\r\n    data: [],\r\n    totalElements: 0,\r\n    itemList: [],\r\n    shouldOpenEditorDialog: false,\r\n    shouldOpenConfirmationDialog: false,\r\n    shouldOpenConfirmationDeleteAllDialog: false,\r\n    listEQARound: [],\r\n    keyword: '',\r\n    listSample:[],\r\n    round: null,\r\n    shouldOpenConfirmationEditDialog:false,\r\n    shouldOpenDialog:false\r\n  }\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleTextSearchChange = this.handleTextSearchChange.bind(this);\r\n  }\r\n\r\n  handleTextSearchChange = event => {\r\n    this.setState({ keyword: event.target.value }, function () {\r\n    })\r\n  };\r\n  handleKeyDownEnterSearch = (e) => {\r\n    if (e.key === 'Enter') {\r\n      this.search()\r\n    }\r\n  }\r\n  search() {\r\n    var searchObject = {};\r\n    searchObject.typeMethod = 1;\r\n    searchObject.text = this.state.keyword.trim();\r\n    searchObject.round = this.state.round ? this.state.round : null;\r\n    searchObject.pageIndex = 1;\r\n    searchObject.pageSize = this.state.rowsPerPage;\r\n    getByReportSimilarityReagent(searchObject, this.state.page, this.state.rowsPerPage).then(({ data }) => {\r\n      this.setState({ itemList: [...data.content], totalElements: data.totalElements })\r\n    }\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    let searchObject = { pageIndex: 1, pageSize: 1000000 }\r\n    searchPlanning(searchObject).then(({data})=>{\r\n          this.setState({listPlanning: [...data.content]}); \r\n  });\r\n    // this.updatePageData();\r\n  }\r\n\r\n  updatePageData = () => {\r\n    var searchObject = {};\r\n    searchObject.text = this.state.keyword;\r\n    searchObject.round = this.state.round ? this.state.round : null;\r\n    searchObject.typeMethod = 1;\r\n    searchObject.pageIndex = this.state.page + 1;\r\n    searchObject.pageSize = this.state.rowsPerPage;\r\n    getByReportSimilarityReagent(searchObject, this.state.page, this.state.rowsPerPage).then(({ data }) => {\r\n      this.setState({ itemList: [...data.content], totalElements: data.totalElements })\r\n    }\r\n    );\r\n  };\r\n  handleFilterEQARound = (event, round, reason, details) => {\r\n    if (round != null) {\r\n      getEQASample(round.id).then((data)=>{\r\n        let p ={}\r\n        let listSample =[]\r\n        let list = [...data.data]\r\n        list.forEach(element => {\r\n          p = {...element.eqaSample}\r\n          listSample.push(p)\r\n        });\r\n        this.setState({ sample: null,listSample:list},()=>{\r\n        })\r\n      })\r\n      this.setState({ HealthOrgEQARound:round,round: round }, () => {\r\n        \r\n      });\r\n      if (reason == 'clear') {\r\n        this.setState({ round: null })\r\n      }\r\n    } else{\r\n      this.setState({\r\n        HealthOrgEQARound: null,\r\n        sample: null,\r\n        listSample: [],\r\n      })\r\n    }\r\n  }\r\n  handleFilterEQASample =(event,item)=>{\r\n    this.setState({sample:item ? item :null,sampleId :item? item.id :null},()=>{\r\n      if(this.state.sampleId != null){\r\n        getByReportSimilarityReagent(this.state.sampleId).then(({ data }) => {\r\n          this.setState({\r\n            itemList: [...data],\r\n          })\r\n        },()=>{\r\n        })\r\n      }\r\n    })\r\n  }\r\n  setPage = page => {\r\n    this.setState({ page }, function () {\r\n      this.updatePageData();\r\n    })\r\n  };\r\n\r\n  setRowsPerPage = event => {\r\n    this.setState({ rowsPerPage: event.target.value, page: 0 }, function () {\r\n      this.updatePageData();\r\n    })\r\n  };\r\n\r\n  handleChangePage = (event, newPage) => {\r\n    this.setPage(newPage);\r\n  };\r\n\r\n  handleOKEditClose = () => {\r\n    this.setState({\r\n      shouldOpenEditorDialog: false,\r\n      shouldOpenConfirmationDialog: false,\r\n      shouldOpenConfirmationEditDialog:false,\r\n      shouldOpenDialog:false\r\n    });\r\n    this.setPage(0);\r\n  };\r\n\r\n  handleDelete = id => {\r\n    this.setState({\r\n      id,\r\n      shouldOpenConfirmationDialog: true\r\n    });\r\n  };\r\n\r\n  handleDialogClose = () => {\r\n    this.setState({\r\n      shouldOpenEditorDialog: false,\r\n      shouldOpenConfirmationDialog: false,\r\n      shouldOpenConfirmationDeleteAllDialog: false,\r\n      shouldOpenConfirmationEditDialog:false,\r\n      shouldOpenDialog:false\r\n    });\r\n  };\r\n\r\n  handleOKEditClose = () => {\r\n    this.setState({\r\n      shouldOpenEditorDialog: false,\r\n      shouldOpenConfirmationDialog: false,\r\n      shouldOpenConfirmationDeleteAllDialog: false,\r\n      shouldOpenConfirmationEditDialog:false,\r\n      shouldOpenDialog:false\r\n    });\r\n    this.setPage(0);\r\n  };\r\n\r\n  exportToExcel = () => {\r\n    const { t } = this.props;\r\n    let searchObject = {}\r\n    if(this.state.sampleId == null || this.state.sampleId == \"\"){\r\n      toast.warn(t(\"EQASampleSet.please_select_eqa_sample\"))\r\n      return\r\n    }\r\n      exportToExcel(this.state.round ? this.state.round.id :\"\").then((res) => {\r\n        let blob = new Blob([res.data], {\r\n          type:\r\n            'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n        })\r\n        saveAs(blob, 'EQAResultReport.xlsx')\r\n      })\r\n      .catch((err) => {\r\n        // console.log(err)\r\n      })\r\n  }\r\n  \r\n  handleFilterEQAPlanning = (event,item)=>{\r\n    // console.log(item);\r\n    if(item != null && item.id != null){\r\n    this.setState({planning:item?item:null,planningId :item ? item.id :null},()=>{\r\n      if(this.state.planningId !=null){\r\n      getEQARoundsByPlanning(this.state.planningId).then(({data})=>{\r\n        if (data != null && data.length > 0) {\r\n          this.setState({ HealthOrgEQARound: null, sample: null, listEQARound: [...data]});\r\n        }\r\n      })}\r\n    })}else{\r\n      this.setState({\r\n        HealthOrgEQARound: null,\r\n        sample: null,\r\n        listEQARound: [],\r\n        listSample: []\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    const { t, i18n } = this.props;\r\n    let { listPlanning,\r\n      planning, \r\n      listEQARound, \r\n      round,\r\n      HealthOrgEQARound,\r\n      sample,\r\n      listSample } = this.state;\r\n\r\n    let columns = [\r\n      {\r\n        title: t(\"ResultsOfTheUnits.STT\"), width: \"50\", align: \"left\",\r\n        render: rowData => ( (rowData.tableData.id + 1))\r\n    },\r\n      { title: t(\"EqaResult.reagent\"), field: \"reagentName\", align: \"left\", width: \"150\",\r\n      headerStyle: {\r\n        minWidth:\"250px\",\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"0px\",\r\n      },\r\n      cellStyle: {\r\n        minWidth:\"250px\",\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"0px\",\r\n        textAlign: \"left\",\r\n      },  },\r\n      { title: t(\"ReportSimilarityReagent.title\"), field: \"percentSimilarity\", width: \"150\",\r\n      headerStyle: {\r\n        minWidth:\"150px\",\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"0px\",\r\n      },\r\n      cellStyle: {\r\n        minWidth:\"150px\",\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"0px\",\r\n        textAlign: \"left\",\r\n      },  },\r\n      { title: t(\"ReportSimilarityReagent.countHealthOrg\"), field: \"countHealthOrg\", width: \"150\",\r\n      headerStyle: {\r\n        minWidth:\"150px\",\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"0px\",\r\n      },\r\n      cellStyle: {\r\n        minWidth:\"150px\",\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"0px\",\r\n        textAlign: \"left\",\r\n      },  },\r\n      { title: t(\"ReportSimilarityReagent.similarityRate\"), field: \"similarityRate\", width: \"150\",\r\n      headerStyle: {\r\n        minWidth:\"150px\",\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"0px\",\r\n      },\r\n      cellStyle: {\r\n        minWidth:\"150px\",\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"0px\",\r\n        textAlign: \"left\",\r\n      },  },\r\n      \r\n    ];\r\n    return (\r\n      <div className=\"m-sm-30\">\r\n        <div className=\"mb-sm-30\">\r\n        <Helmet>\r\n          <title>{t(\"ReportSimilarityReagent.title\")} | {t(\"web_site\")}</title>\r\n        </Helmet>\r\n          <Breadcrumb routeSegments={[{ name: t(\"ReportResult.title\"), path: \"/directory/apartment\" },{ name: t(\"ReportSimilarityReagent.title\") }]} />\r\n        </div>\r\n        <Grid container spacing={3}>\r\n          <Grid item ld={3} md={3} sm={6} xs={12}>\r\n            <Button\r\n                className=\"mb-16 align-bottom\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={this.exportToExcel}\r\n                >\r\n                {t('general.exportToExcel')}\r\n                </Button>\r\n          </Grid>\r\n          <Grid item lg={3} md={3} sm={6} xs={12}>\r\n            <Autocomplete\r\n              size=\"small\"\r\n              id=\"combo-box\"\r\n              options={listPlanning}\r\n              className=\"flex-end\"\r\n              getOptionLabel={(option) => option.code}\r\n              onChange={this.handleFilterEQAPlanning}\r\n              value={planning}\r\n              renderInput={(params) => <TextField {...params}\r\n                label={t('ResultsOfTheUnits.eqaPlanning')}\r\n                variant=\"outlined\"\r\n              />}\r\n            />\r\n          </Grid>\r\n          <Grid item lg={3} md={3} sm={6} xs={12}>\r\n            <Autocomplete\r\n              size=\"small\"\r\n              id=\"combo-box\"\r\n              options={listEQARound}\r\n              className=\"flex-end\"\r\n              getOptionLabel={(option) => option.code}\r\n              onChange={this.handleFilterEQARound}\r\n              value={HealthOrgEQARound ? HealthOrgEQARound : \"\"}\r\n              renderInput={(params) => <TextField {...params}\r\n                label={t('general.fillterByRoundEQA')}\r\n                variant=\"outlined\"\r\n              />}\r\n            />\r\n          </Grid>\r\n          <Grid item lg={3} md={3} sm={6} xs={12}>\r\n            <Autocomplete\r\n              size=\"small\"\r\n              id=\"combo-box\"\r\n              options={listSample}\r\n              className=\"flex-end\"\r\n              getOptionLabel={(option) => option.code}\r\n              onChange={this.handleFilterEQASample}\r\n              value={sample ? sample : \"\"}\r\n              renderInput={(params) => <TextField {...params}\r\n                label={t('general.fillterBySampleEQA')}\r\n                variant=\"outlined\"\r\n              />}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <div>\r\n              \r\n\r\n              {this.state.shouldOpenConfirmationDialog && (\r\n                <ConfirmationDialog\r\n                  title={t(\"confirm\")}\r\n                  open={this.state.shouldOpenConfirmationDialog}\r\n                  onConfirmDialogClose={this.handleDialogClose}\r\n                  onYesClick={this.handleConfirmationResponse}\r\n                  text={t('DeleteConfirm')}\r\n                  Yes={t('general.Yes')}\r\n                  No={t('general.No')}\r\n                />\r\n              )}\r\n              {this.state.shouldOpenConfirmationEditDialog && (\r\n              <ConfirmationDialog\r\n                title={t(\"confirm\")}\r\n                open={this.state.shouldOpenConfirmationEditDialog}\r\n                onConfirmDialogClose={this.handleDialogClose}\r\n                onYesClick={this.handleConfirmationEdit}\r\n                text={t('EQAResultReportFastTest.editConfirm')}\r\n                Yes={t('general.Yes')}\r\n                No={t('general.No')}\r\n              />\r\n            )}\r\n            </div>\r\n            <MaterialTable\r\n              title={t('ReportSimilarityReagent.list')}\r\n              data={this.state.itemList}\r\n              columns={columns}\r\n            //   parentChildData={(row, rows) => {\r\n            //     var list = rows.find(a => a.id === row.parentId);\r\n            //     return list;\r\n            //   }}\r\n              options={{\r\n                selection: false,\r\n                actionsColumnIndex: -1,\r\n                paging: false,\r\n                search: false,\r\n                rowStyle: (rowData, index) => ({\r\n                  backgroundColor: (index % 2 === 1) ? '#EEE' : '#FFF',\r\n                }), \r\n                maxBodyHeight: '450px',\r\n                minBodyHeight: '370px',\r\n                headerStyle: {\r\n                  backgroundColor: '#358600',\r\n                  color:'#fff',\r\n                },\r\n                padding: 'dense',\r\n                toolbar: false\r\n              }}\r\n              components={{\r\n                Toolbar: props => (\r\n                  <MTableToolbar {...props} />\r\n                ),\r\n              }}\r\n              onSelectionChange={(rows) => {\r\n                this.data = rows;\r\n              }}\r\n              localization={{\r\n                body: {\r\n                  emptyDataSourceMessage: `${t(\r\n                    \"general.emptyDataMessageTable\"\r\n                  )}`,\r\n                },\r\n              }}\r\n            />\r\n            <TablePagination\r\n              align=\"left\"\r\n              className=\"px-16\"\r\n              rowsPerPageOptions={[1, 2, 3, 5, 10, 25]}\r\n              component=\"div\"\r\n              labelRowsPerPage={t('general.rows_per_page')}\r\n              labelDisplayedRows={ ({ from, to, count }) => `${from}-${to} ${t('general.of')} ${count !== -1 ? count : `more than ${to}`}`}\r\n              count={this.state.totalElements}\r\n              rowsPerPage={this.state.rowsPerPage}\r\n              page={this.state.page}\r\n              backIconButtonProps={{\r\n                \"aria-label\": \"Previous Page\"\r\n              }}\r\n              nextIconButtonProps={{\r\n                \"aria-label\": \"Next Page\"\r\n              }}\r\n              onChangePage={this.handleChangePage}\r\n              onChangeRowsPerPage={this.setRowsPerPage}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\nexport default ReportSimilarityReagent;"]},"metadata":{},"sourceType":"module"}