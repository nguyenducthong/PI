{"ast":null,"code":"import _slicedToArray from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\src\\\\app\\\\EgretLayout\\\\SharedCompoents\\\\ShoppingCart.jsx\";\nimport React from \"react\";\nimport { Icon, Badge, MuiThemeProvider, IconButton, Drawer } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/styles\";\nimport { PropTypes } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { getCartList, deleteProductFromCart, updateCartAmount } from \"app/redux/actions/EcommerceActions\";\nvar cartListLoaded = false;\n\nfunction ShoppingCart(props) {\n  var _this = this;\n\n  var container = props.container,\n      theme = props.theme,\n      settings = props.settings,\n      _props$cartList = props.cartList,\n      cartList = _props$cartList === void 0 ? [] : _props$cartList,\n      getCartList = props.getCartList,\n      deleteProductFromCart = props.deleteProductFromCart,\n      updateCartAmount = props.updateCartAmount,\n      user = props.user;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      panelOpen = _React$useState2[0],\n      setPanelOpen = _React$useState2[1];\n\n  if (!cartListLoaded) {\n    getCartList(user.userId);\n    cartListLoaded = true;\n  }\n\n  function handleDrawerToggle() {\n    setPanelOpen(!panelOpen);\n  }\n\n  var parentThemePalette = theme.palette;\n  return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    theme: settings.themes[settings.activeTheme],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Drawer, {\n    container: container,\n    variant: \"temporary\",\n    anchor: \"right\",\n    open: panelOpen,\n    onClose: handleDrawerToggle,\n    ModalProps: {\n      keepMounted: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mini-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart__topbar flex flex-middle p-16 mb-24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"shopping_cart\"), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"ml-8 my-0 font-weight-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Cart\")), cartList.map(function (product) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: product.id,\n      className: \"mini-cart__item flex flex-middle flex-space-between py-16 px-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-column mr-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: function onClick() {\n        return updateCartAmount(user.userId, product.id, product.amount + 1);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      className: \"cursor-pointer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }, \"keyboard_arrow_up\")), /*#__PURE__*/React.createElement(IconButton, {\n      disabled: !(product.amount - 1),\n      size: \"small\",\n      onClick: function onClick() {\n        return updateCartAmount(user.userId, product.id, product.amount - 1);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      className: \"cursor-pointer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }, \"keyboard_arrow_down\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: product.imgUrl,\n      alt: product.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-8 text-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"m-0 mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, product.title), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, \"$\", product.price, \" x \", product.amount)), /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: function onClick() {\n        return deleteProductFromCart(user.userId, product.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      fontSize: \"small\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"clear\")));\n  }))));\n}\n\nShoppingCart.propTypes = {\n  settings: PropTypes.object.isRequired,\n  cartList: PropTypes.array.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    settings: state.layout.settings,\n    getCartList: PropTypes.func.isRequired,\n    deleteProductFromCart: PropTypes.func.isRequired,\n    updateCartAmount: PropTypes.func.isRequired,\n    cartList: state.ecommerce.cartList,\n    user: state.user\n  };\n};\n\nexport default withStyles({}, {\n  withTheme: true\n})(connect(mapStateToProps, {\n  getCartList,\n  deleteProductFromCart,\n  updateCartAmount\n})(ShoppingCart));","map":{"version":3,"sources":["E:/DoAnTotNghiep/code/Client-V2/src/app/EgretLayout/SharedCompoents/ShoppingCart.jsx"],"names":["React","Icon","Badge","MuiThemeProvider","IconButton","Drawer","withStyles","PropTypes","connect","getCartList","deleteProductFromCart","updateCartAmount","cartListLoaded","ShoppingCart","props","container","theme","settings","cartList","user","useState","panelOpen","setPanelOpen","userId","handleDrawerToggle","parentThemePalette","palette","themes","activeTheme","keepMounted","map","product","id","amount","imgUrl","title","price","propTypes","object","isRequired","array","mapStateToProps","state","layout","func","ecommerce","withTheme"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Icon,\n  Badge,\n  MuiThemeProvider,\n  IconButton,\n  Drawer\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/styles\";\nimport { PropTypes } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  getCartList,\n  deleteProductFromCart,\n  updateCartAmount\n} from \"app/redux/actions/EcommerceActions\";\n\nlet cartListLoaded = false;\n\nfunction ShoppingCart(props) {\n  const {\n    container,\n    theme,\n    settings,\n    cartList = [],\n    getCartList,\n    deleteProductFromCart,\n    updateCartAmount,\n    user\n  } = props;\n\n  const [panelOpen, setPanelOpen] = React.useState(false);\n\n  if (!cartListLoaded) {\n    getCartList(user.userId);\n    cartListLoaded = true;\n  }\n\n  function handleDrawerToggle() {\n    setPanelOpen(!panelOpen);\n  }\n\n  const parentThemePalette = theme.palette;\n\n  return (\n    <MuiThemeProvider theme={settings.themes[settings.activeTheme]}>\n      {/* <IconButton\n        onClick={handleDrawerToggle}\n        style={{\n          color:\n            parentThemePalette.type === \"light\"\n              ? parentThemePalette.text.secondary\n              : parentThemePalette.text.primary\n        }}\n      >\n        <Badge color=\"secondary\" badgeContent={cartList.length}>\n          <Icon>shopping_cart</Icon>\n        </Badge>\n      </IconButton> */}\n\n      <Drawer\n        container={container}\n        variant=\"temporary\"\n        anchor={\"right\"}\n        open={panelOpen}\n        onClose={handleDrawerToggle}\n        ModalProps={{\n          keepMounted: true\n        }}\n      >\n        <div className=\"mini-cart\">\n          <div className=\"cart__topbar flex flex-middle p-16 mb-24\">\n            <Icon color=\"primary\">shopping_cart</Icon>\n            <h5 className=\"ml-8 my-0 font-weight-500\">Cart</h5>\n          </div>\n\n          {cartList.map(product => (\n            <div\n              key={product.id}\n              className=\"mini-cart__item flex flex-middle flex-space-between py-16 px-8\"\n            >\n              <div className=\"flex flex-column mr-8\">\n                <IconButton\n                  size=\"small\"\n                  onClick={() =>\n                    updateCartAmount(\n                      user.userId,\n                      product.id,\n                      product.amount + 1\n                    )\n                  }\n                >\n                  <Icon className=\"cursor-pointer\">keyboard_arrow_up</Icon>\n                </IconButton>\n                <IconButton\n                  disabled={!(product.amount - 1)}\n                  size=\"small\"\n                  onClick={() =>\n                    updateCartAmount(\n                      user.userId,\n                      product.id,\n                      product.amount - 1\n                    )\n                  }\n                >\n                  <Icon className=\"cursor-pointer\">keyboard_arrow_down</Icon>\n                </IconButton>\n              </div>\n              <div className=\"mr-8\">\n                <img src={product.imgUrl} alt={product.title} />\n              </div>\n              <div className=\"mr-8 text-center\">\n                <h6 className=\"m-0 mb-4\">{product.title}</h6>\n                <small className=\"text-muted\">\n                  ${product.price} x {product.amount}\n                </small>\n              </div>\n              <IconButton\n                size=\"small\"\n                onClick={() => deleteProductFromCart(user.userId, product.id)}\n              >\n                <Icon fontSize=\"small\">clear</Icon>\n              </IconButton>\n            </div>\n          ))}\n        </div>\n      </Drawer>\n    </MuiThemeProvider>\n  );\n}\n\nShoppingCart.propTypes = {\n  settings: PropTypes.object.isRequired,\n  cartList: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n  settings: state.layout.settings,\n  getCartList: PropTypes.func.isRequired,\n  deleteProductFromCart: PropTypes.func.isRequired,\n  updateCartAmount: PropTypes.func.isRequired,\n  cartList: state.ecommerce.cartList,\n  user: state.user\n});\n\nexport default withStyles({}, { withTheme: true })(\n  connect(\n    mapStateToProps,\n    { getCartList, deleteProductFromCart, updateCartAmount }\n  )(ShoppingCart)\n);\n"]},"metadata":{},"sourceType":"module"}