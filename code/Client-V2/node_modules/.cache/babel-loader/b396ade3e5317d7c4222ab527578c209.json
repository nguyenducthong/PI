{"ast":null,"code":"import _objectSpread from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\src\\\\app\\\\EgretLayout\\\\Layout1\\\\Layout1Topbar.jsx\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport ConstantList from \"../../appConfig\";\nimport { Icon, IconButton, Badge, MenuItem, withStyles, MuiThemeProvider } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport { setLayoutSettings } from \"app/redux/actions/LayoutActions\";\nimport { logoutUser } from \"app/redux/actions/UserActions\";\nimport { PropTypes } from \"prop-types\";\nimport { EgretMenu, EgretSearchBox } from \"egret\";\nimport { isMdScreen } from \"utils\";\nimport NotificationBar from \"../SharedCompoents/NotificationBar\";\nimport { Link } from \"react-router-dom\";\nimport ShoppingCart from \"../SharedCompoents/ShoppingCart\";\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\nimport Select from '@material-ui/core/Select';\nimport LanguageSelect from '../SharedCompoents/LanguageSelect';\nimport authService from \"../../services/jwtAuthService\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      backgroundColor: theme.palette.primary.main\n    }\n  };\n};\n\nvar ViewLanguageSelect = withTranslation()(LanguageSelect);\n\nvar Layout1Topbar = /*#__PURE__*/function (_Component) {\n  _inherits(Layout1Topbar, _Component);\n\n  var _super = _createSuper(Layout1Topbar);\n\n  function Layout1Topbar() {\n    var _this;\n\n    _classCallCheck(this, Layout1Topbar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {};\n\n    _this.updateSidebarMode = function (sidebarSettings) {\n      var _this$props = _this.props,\n          settings = _this$props.settings,\n          setLayoutSettings = _this$props.setLayoutSettings;\n      setLayoutSettings(_objectSpread(_objectSpread({}, settings), {}, {\n        layout1Settings: _objectSpread(_objectSpread({}, settings.layout1Settings), {}, {\n          leftSidebar: _objectSpread(_objectSpread({}, settings.layout1Settings.leftSidebar), sidebarSettings)\n        })\n      }));\n    };\n\n    _this.handleSidebarToggle = function () {\n      var settings = _this.props.settings;\n      var layout1Settings = settings.layout1Settings;\n      var mode;\n\n      if (isMdScreen()) {\n        mode = layout1Settings.leftSidebar.mode === \"close\" ? \"mobile\" : \"close\";\n      } else {\n        mode = layout1Settings.leftSidebar.mode === \"full\" ? \"close\" : \"full\";\n      }\n\n      _this.updateSidebarMode({\n        mode\n      });\n    };\n\n    _this.handleSignOut = function () {\n      _this.props.logoutUser();\n    };\n\n    return _this;\n  }\n\n  _createClass(Layout1Topbar, [{\n    key: \"render\",\n    value: function render() {\n      var imagePath = ConstantList.ROOT_PATH + \"assets/images/avatar.jpg\";\n      var user = authService.getLoginUser();\n\n      if (user != null && user.imagePath != null) {\n        imagePath = ConstantList.API_ENPOINT + user.imagePath;\n      }\n\n      var _this$props2 = this.props,\n          t = _this$props2.t,\n          i18n = _this$props2.i18n;\n      var _this$props3 = this.props,\n          theme = _this$props3.theme,\n          settings = _this$props3.settings;\n      var language = 'en';\n\n      var changeLanguage = function changeLanguage(lng) {\n        alert(lng);\n        i18n.changeLanguage(lng); //alert('here');\n      };\n\n      var topbarTheme = settings.themes[settings.layout1Settings.topbar.theme] || theme;\n      return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n        theme: topbarTheme,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"topbar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"topbar-hold\",\n        style: {\n          backgroundColor: topbarTheme.palette.primary.main\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-space-between flex-middle h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: this.handleSidebarToggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 19\n        }\n      }, \"menu\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"hide-on-mobile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(EgretSearchBox, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(ViewLanguageSelect, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(NotificationBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(ShoppingCart, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(EgretMenu, {\n        menuButton: /*#__PURE__*/React.createElement(\"img\", {\n          className: \"mx-8 text-middle circular-image-small cursor-pointer\",\n          src: imagePath,\n          alt: \"user\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        style: {\n          minWidth: 185\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        className: \"flex flex-middle\",\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 23\n        }\n      }, \" home \"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"pl-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 23\n        }\n      }, \" \", t('Dashboard.dashboard'), \" \"))), /*#__PURE__*/React.createElement(MenuItem, {\n        style: {\n          minWidth: 185\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        className: \"flex flex-middle\",\n        to: \"/page-layouts/user-profile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 23\n        }\n      }, \" person \"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"pl-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 23\n        }\n      }, \" \", t('Dashboard.profile'), \" \"))), /*#__PURE__*/React.createElement(MenuItem, {\n        onClick: this.handleSignOut,\n        className: \"flex flex-middle\",\n        style: {\n          minWidth: 185\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      }, \" power_settings_new \"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"pl-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, \" \", t('Dashboard.logout'), \" \"))))))));\n    }\n  }]);\n\n  return Layout1Topbar;\n}(Component);\n\nLayout1Topbar.propTypes = {\n  setLayoutSettings: PropTypes.func.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  settings: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    setLayoutSettings: PropTypes.func.isRequired,\n    logoutUser: PropTypes.func.isRequired,\n    settings: state.layout.settings\n  };\n};\n\nexport default withStyles(styles, {\n  withTheme: true\n})(withRouter(connect(mapStateToProps, {\n  setLayoutSettings,\n  logoutUser\n})(Layout1Topbar)));","map":{"version":3,"sources":["E:/DoAnTotNghiep/code/Client-V2/src/app/EgretLayout/Layout1/Layout1Topbar.jsx"],"names":["React","Component","withRouter","ConstantList","Icon","IconButton","Badge","MenuItem","withStyles","MuiThemeProvider","connect","setLayoutSettings","logoutUser","PropTypes","EgretMenu","EgretSearchBox","isMdScreen","NotificationBar","Link","ShoppingCart","useTranslation","withTranslation","Trans","Select","LanguageSelect","authService","styles","theme","root","backgroundColor","palette","primary","main","ViewLanguageSelect","Layout1Topbar","state","updateSidebarMode","sidebarSettings","props","settings","layout1Settings","leftSidebar","handleSidebarToggle","mode","handleSignOut","imagePath","ROOT_PATH","user","getLoginUser","API_ENPOINT","t","i18n","language","changeLanguage","lng","alert","topbarTheme","themes","topbar","minWidth","propTypes","func","isRequired","object","mapStateToProps","layout","withTheme"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,SACEC,IADF,EAEEC,UAFF,EAGEC,KAHF,EAIEC,QAJF,EAKEC,UALF,EAMEC,gBANF,QAOO,mBAPP;AAQA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AACA,SAASC,UAAT,QAA2B,+BAA3B;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,SAASC,SAAT,EAAoBC,cAApB,QAA0C,OAA1C;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,SAASC,cAAT,EAAyBC,eAAzB,EAA0CC,KAA1C,QAAuD,eAAvD;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;;AACA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACvBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsBC;AADnC;AADiB,GAAL;AAAA,CAApB;;AAKA,IAAMC,kBAAkB,GAAGZ,eAAe,GAAGG,cAAH,CAA1C;;IAEMU,a;;;;;;;;;;;;;;;UACJC,K,GAAQ,E;;UAERC,iB,GAAoB,UAAAC,eAAe,EAAI;AAAA,wBACC,MAAKC,KADN;AAAA,UAC/BC,QAD+B,eAC/BA,QAD+B;AAAA,UACrB5B,iBADqB,eACrBA,iBADqB;AAGrCA,MAAAA,iBAAiB,iCACZ4B,QADY;AAEfC,QAAAA,eAAe,kCACVD,QAAQ,CAACC,eADC;AAEbC,UAAAA,WAAW,kCACNF,QAAQ,CAACC,eAAT,CAAyBC,WADnB,GAENJ,eAFM;AAFE;AAFA,SAAjB;AAUD,K;;UAEDK,mB,GAAsB,YAAM;AAAA,UACpBH,QADoB,GACP,MAAKD,KADE,CACpBC,QADoB;AAAA,UAEpBC,eAFoB,GAEAD,QAFA,CAEpBC,eAFoB;AAI1B,UAAIG,IAAJ;;AACA,UAAI3B,UAAU,EAAd,EAAkB;AAChB2B,QAAAA,IAAI,GAAGH,eAAe,CAACC,WAAhB,CAA4BE,IAA5B,KAAqC,OAArC,GAA+C,QAA/C,GAA0D,OAAjE;AACD,OAFD,MAEO;AACLA,QAAAA,IAAI,GAAGH,eAAe,CAACC,WAAhB,CAA4BE,IAA5B,KAAqC,MAArC,GAA8C,OAA9C,GAAwD,MAA/D;AACD;;AACD,YAAKP,iBAAL,CAAuB;AAAEO,QAAAA;AAAF,OAAvB;AACD,K;;UAEDC,a,GAAgB,YAAM;AACpB,YAAKN,KAAL,CAAW1B,UAAX;AACD,K;;;;;;;6BAEQ;AACP,UAAIiC,SAAS,GAAE1C,YAAY,CAAC2C,SAAb,GAAuB,0BAAtC;AACA,UAAIC,IAAI,GAAGtB,WAAW,CAACuB,YAAZ,EAAX;;AACA,UAAGD,IAAI,IAAE,IAAN,IAAcA,IAAI,CAACF,SAAL,IAAgB,IAAjC,EAAsC;AACpCA,QAAAA,SAAS,GAAE1C,YAAY,CAAC8C,WAAb,GAA2BF,IAAI,CAACF,SAA3C;AACD;;AALM,yBAMa,KAAKP,KANlB;AAAA,UAMCY,CAND,gBAMCA,CAND;AAAA,UAMIC,IANJ,gBAMIA,IANJ;AAAA,yBAOmB,KAAKb,KAPxB;AAAA,UAODX,KAPC,gBAODA,KAPC;AAAA,UAOMY,QAPN,gBAOMA,QAPN;AAQP,UAAIa,QAAQ,GAAE,IAAd;;AACA,UAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,GAAG,EAAI;AAC5BC,QAAAA,KAAK,CAACD,GAAD,CAAL;AACAH,QAAAA,IAAI,CAACE,cAAL,CAAoBC,GAApB,EAF4B,CAG5B;AACD,OAJD;;AAOA,UAAME,WAAW,GACfjB,QAAQ,CAACkB,MAAT,CAAgBlB,QAAQ,CAACC,eAAT,CAAyBkB,MAAzB,CAAgC/B,KAAhD,KAA0DA,KAD5D;AAEA,0BACE,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAE6B,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,SAAS,eADX;AAEE,QAAA,KAAK,EAAE;AAAE3B,UAAAA,eAAe,EAAE2B,WAAW,CAAC1B,OAAZ,CAAoBC,OAApB,CAA4BC;AAA/C,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAIE;AAAK,QAAA,SAAS,EAAC,2CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAE,KAAKU,mBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,eAKE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,eAoBE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,eAGE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,eAIE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,eAYE,oBAAC,SAAD;AACE,QAAA,UAAU,eACR;AACE,UAAA,SAAS,EAAC,sDADZ;AAEE,UAAA,GAAG,EAAEG,SAFP;AAGE,UAAA,GAAG,EAAC,MAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBASE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEc,UAAAA,QAAQ,EAAE;AAAZ,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAmC,QAAA,EAAE,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA0BT,CAAC,CAAC,qBAAD,CAA3B,MAFF,CADF,CATF,eAeE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAES,UAAAA,QAAQ,EAAE;AAAZ,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AACE,QAAA,SAAS,EAAC,kBADZ;AAEE,QAAA,EAAE,EAAC,4BAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAIE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,eAKE;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA0BT,CAAC,CAAC,mBAAD,CAA3B,MALF,CADF,CAfF,eAwBE,oBAAC,QAAD;AACE,QAAA,OAAO,EAAE,KAAKN,aADhB;AAEE,QAAA,SAAS,EAAC,kBAFZ;AAGE,QAAA,KAAK,EAAE;AAAEe,UAAAA,QAAQ,EAAE;AAAZ,SAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCALF,eAME;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA0BT,CAAC,CAAC,kBAAD,CAA3B,MANF,CAxBF,CAZF,CApBF,CAJF,CADF,CADF,CADF;AA8ED;;;;EAnIyBjD,S;;AAsI5BiC,aAAa,CAAC0B,SAAd,GAA0B;AACxBjD,EAAAA,iBAAiB,EAAEE,SAAS,CAACgD,IAAV,CAAeC,UADV;AAExBlD,EAAAA,UAAU,EAAEC,SAAS,CAACgD,IAAV,CAAeC,UAFH;AAGxBvB,EAAAA,QAAQ,EAAE1B,SAAS,CAACkD,MAAV,CAAiBD;AAHH,CAA1B;;AAMA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAAA7B,KAAK;AAAA,SAAK;AAChCxB,IAAAA,iBAAiB,EAAEE,SAAS,CAACgD,IAAV,CAAeC,UADF;AAEhClD,IAAAA,UAAU,EAAEC,SAAS,CAACgD,IAAV,CAAeC,UAFK;AAGhCvB,IAAAA,QAAQ,EAAEJ,KAAK,CAAC8B,MAAN,CAAa1B;AAHS,GAAL;AAAA,CAA7B;;AAMA,eAAe/B,UAAU,CAACkB,MAAD,EAAS;AAAEwC,EAAAA,SAAS,EAAE;AAAb,CAAT,CAAV,CACbhE,UAAU,CACRQ,OAAO,CACLsD,eADK,EAEL;AAAErD,EAAAA,iBAAF;AAAqBC,EAAAA;AAArB,CAFK,CAAP,CAGEsB,aAHF,CADQ,CADG,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport ConstantList from \"../../appConfig\";\nimport {\n  Icon,\n  IconButton,\n  Badge,\n  MenuItem,\n  withStyles,\n  MuiThemeProvider\n} from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport { setLayoutSettings } from \"app/redux/actions/LayoutActions\";\nimport { logoutUser } from \"app/redux/actions/UserActions\";\nimport { PropTypes } from \"prop-types\";\nimport { EgretMenu, EgretSearchBox } from \"egret\";\nimport { isMdScreen } from \"utils\";\nimport NotificationBar from \"../SharedCompoents/NotificationBar\";\nimport { Link } from \"react-router-dom\";\nimport ShoppingCart from \"../SharedCompoents/ShoppingCart\";\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\nimport Select from '@material-ui/core/Select';\nimport LanguageSelect from '../SharedCompoents/LanguageSelect';\nimport authService from \"../../services/jwtAuthService\";\nconst styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.primary.main\n  }\n});\nconst ViewLanguageSelect = withTranslation()(LanguageSelect);\n\nclass Layout1Topbar extends Component {\n  state = {};\n\n  updateSidebarMode = sidebarSettings => {\n    let { settings, setLayoutSettings } = this.props;\n\n    setLayoutSettings({\n      ...settings,\n      layout1Settings: {\n        ...settings.layout1Settings,\n        leftSidebar: {\n          ...settings.layout1Settings.leftSidebar,\n          ...sidebarSettings\n        }\n      }\n    });\n  };\n\n  handleSidebarToggle = () => {\n    let { settings } = this.props;\n    let { layout1Settings } = settings;\n\n    let mode;\n    if (isMdScreen()) {\n      mode = layout1Settings.leftSidebar.mode === \"close\" ? \"mobile\" : \"close\";\n    } else {\n      mode = layout1Settings.leftSidebar.mode === \"full\" ? \"close\" : \"full\";\n    }\n    this.updateSidebarMode({ mode });\n  };\n\n  handleSignOut = () => {\n    this.props.logoutUser();\n  };\n\n  render() {\n    let imagePath =ConstantList.ROOT_PATH+\"assets/images/avatar.jpg\"\n    let user = authService.getLoginUser();\n    if(user!=null && user.imagePath!=null){\n      imagePath =ConstantList.API_ENPOINT + user.imagePath;\n    }\n    const { t, i18n } = this.props;\n    let { theme, settings } = this.props;\n    let language= 'en';\n    const changeLanguage = lng => {\n      alert(lng);\n      i18n.changeLanguage(lng);\n      //alert('here');\n    };    \n\n  \n    const topbarTheme =\n      settings.themes[settings.layout1Settings.topbar.theme] || theme;\n    return (\n      <MuiThemeProvider theme={topbarTheme}>\n        <div className=\"topbar\">\n          <div\n            className={`topbar-hold`}\n            style={{ backgroundColor: topbarTheme.palette.primary.main }}\n          >\n            <div className=\"flex flex-space-between flex-middle h-100\">\n              <div className=\"flex\">\n                <IconButton onClick={this.handleSidebarToggle}>\n                  <Icon>menu</Icon>\n                </IconButton>\n\n                <div className=\"hide-on-mobile\">\n                  {/* <IconButton>\n                    <Icon>mail_outline</Icon>\n                  </IconButton>\n\n                  <IconButton>\n                    <Icon>web_asset</Icon>\n                  </IconButton>\n\n                  <IconButton>\n                    <Icon>star_outline</Icon>\n                  </IconButton> */}\n                </div>\n              </div>\n              <div className=\"flex flex-middle\">\n                <EgretSearchBox />\n                <ViewLanguageSelect/>\n                <NotificationBar />\n                <ShoppingCart></ShoppingCart>\n                {/* <select class=\"form-control language-selector\"  onClick={() => changeLanguage('en')}>\n                    <option value=\"de\">Deutsch</option>\n                    <option value=\"en\">English</option>\n                    <option value=\"fr\">Fran√ßais</option>\n                    <option value=\"it\">Italiano</option>\n                </select> */}\n                \n                <EgretMenu\n                  menuButton={\n                    <img\n                      className=\"mx-8 text-middle circular-image-small cursor-pointer\"\n                      src={imagePath}\n                      alt=\"user\"\n                    />\n                  }\n                >\n                  <MenuItem style={{ minWidth: 185 }}>\n                    <Link className=\"flex flex-middle\" to=\"/\">\n                      <Icon> home </Icon>\n                      <span className=\"pl-16\"> {t('Dashboard.dashboard')} </span>\n                    </Link>\n                  </MenuItem>\n                  <MenuItem style={{ minWidth: 185 }}>\n                    <Link\n                      className=\"flex flex-middle\"\n                      to=\"/page-layouts/user-profile\"\n                    >\n                      <Icon> person </Icon>\n                      <span className=\"pl-16\"> {t('Dashboard.profile')} </span>\n                    </Link>\n                  </MenuItem>\n                  <MenuItem\n                    onClick={this.handleSignOut}\n                    className=\"flex flex-middle\"\n                    style={{ minWidth: 185 }}\n                  >\n                    <Icon> power_settings_new </Icon>\n                    <span className=\"pl-16\"> {t('Dashboard.logout')} </span>\n                  </MenuItem>\n                </EgretMenu>\n              </div>\n            </div>\n          </div>\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nLayout1Topbar.propTypes = {\n  setLayoutSettings: PropTypes.func.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  settings: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  setLayoutSettings: PropTypes.func.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  settings: state.layout.settings\n});\n\nexport default withStyles(styles, { withTheme: true })(\n  withRouter(\n    connect(\n      mapStateToProps,\n      { setLayoutSettings, logoutUser }\n    )(Layout1Topbar)\n  )\n);\n"]},"metadata":{},"sourceType":"module"}