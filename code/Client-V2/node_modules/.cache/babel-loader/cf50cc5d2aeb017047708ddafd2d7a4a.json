{"ast":null,"code":"import _objectSpread from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _createForOfIteratorHelper from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nimport _toConsumableArray from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\DoAnTotNghiep\\\\code\\\\Client-V2\\\\src\\\\app\\\\views\\\\IntroduceTheProgram\\\\IntroduceTheProgramFilePoup.jsx\";\nimport React, { Component } from \"react\";\nimport { Dialog, Button, Grid, DialogActions, Card, Divider, Icon, IconButton } from \"@material-ui/core\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\"; // import { getAllAssetTypes, addNewOrUpdateAssetType, searchByPage, checkCode } from './AssetTypeService';\n\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Draggable from \"react-draggable\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { EgretProgressBar } from \"egret\"; // import NotificationPopup from '../Component/NotificationPopup/NotificationPopup'\n\nimport axios from \"axios\";\nimport ConstantList from \"../../appConfig\";\nimport FileSaver from \"file-saver\";\nimport GetAppSharpIcon from \"@material-ui/icons/GetAppSharp\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"../../../styles/views/_style.scss\";\ntoast.configure();\n\nfunction PaperComponent(props) {\n  return /*#__PURE__*/React.createElement(Draggable, {\n    handle: \"#draggable-dialog-title\",\n    cancel: '[class*=\"MuiDialogContent-root\"]',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Paper, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  })));\n}\n\nvar IntroduceTheProgramFilePoup = /*#__PURE__*/function (_Component) {\n  _inherits(IntroduceTheProgramFilePoup, _Component);\n\n  var _super = _createSuper(IntroduceTheProgramFilePoup);\n\n  function IntroduceTheProgramFilePoup() {\n    var _this;\n\n    _classCallCheck(this, IntroduceTheProgramFilePoup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      name: \"\",\n      code: \"\",\n      content: \"\",\n      description: \"\",\n      shouldOpenImportExcelDialog: false,\n      shouldOpenNotificationPopup: false,\n      dragClass: \"\",\n      attachments: [],\n      files: [],\n      statusList: [],\n      queProgress: 0,\n      progress: 0,\n      uploaded: false\n    };\n\n    _this.handleChange = function (event, source) {\n      event.persist();\n      var files = _this.state.files;\n      var list = [];\n\n      if (source === \"switch\") {\n        _this.setState({\n          isActive: event.target.checked\n        });\n\n        return;\n      }\n\n      files.forEach(function (el) {\n        // el[\"name\"] = event.target.value\n        el.name = event.target.value;\n        list.push(el);\n      });\n\n      _this.setState({\n        [event.target.name]: event.target.value,\n        files: list\n      });\n    };\n\n    _this.handleDialogClose = function () {\n      _this.setState({\n        shouldOpenNotificationPopup: false,\n        shouldOpenImportExcelDialog: false\n      });\n    };\n\n    _this.handleOKEditClose = function () {\n      _this.setState({\n        shouldOpenNotificationPopup: false,\n        shouldOpenImportExcelDialog: false\n      });\n\n      _this.updatePageData();\n    };\n\n    _this.handleFileUploadOnSelect = function (event) {\n      var files = event.target.files;\n\n      _this.fileUpload(files[0]).then(function (res) {\n        toast.info(\"Tải tập tin thành công\"); // alert(\"File uploaded successfully.\")\n      });\n    };\n\n    _this.handleFileSelect = function (event) {\n      var files = event.target.files;\n\n      var list = _toConsumableArray(_this.state.files);\n\n      var _iterator = _createForOfIteratorHelper(files),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var iterator = _step.value;\n          list.push({\n            file: iterator,\n            uploading: false,\n            error: false,\n            progress: 0\n          });\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      _this.setState({\n        files: _toConsumableArray(list)\n      });\n    };\n\n    _this.handleSingleRemove = function (index) {\n      var files = _toConsumableArray(_this.state.files);\n\n      var attachments = _toConsumableArray(_this.state.attachments);\n\n      files.splice(index, 1);\n      attachments.splice(index, 1);\n\n      _this.setState({\n        files: _toConsumableArray(files),\n        attachments: _toConsumableArray(attachments)\n      }, function () {});\n    };\n\n    _this.uploadSingleFile = function (index) {\n      var allFiles = _toConsumableArray(_this.state.files);\n\n      var file = _this.state.files[index];\n\n      _this.setState({\n        progress: 50\n      });\n\n      _this.fileUpload(file.file).then(function (res) {\n        // alert(\"File uploaded successfully.\")\n        _this.setState({\n          uploaded: true\n        });\n\n        toast.info(\"Tải tập tin thành công\");\n      });\n\n      allFiles[index] = _objectSpread(_objectSpread({}, file), {}, {\n        uploading: true,\n        error: false\n      });\n\n      _this.setState({\n        files: _toConsumableArray(allFiles)\n      });\n    };\n\n    _this.handleViewDocument = function (index) {\n      // debugger\n      var file = _this.state.files[index];\n      var contentType = file.file.contentType;\n      var fileName = file.file.name;\n      var url = ConstantList.API_ENPOINT + \"/api/fileDownload/document/\" + file.file.id;\n      axios.get(url, {\n        responseType: \"arraybuffer\"\n      }).then(function (successResponse) {\n        var document = successResponse.data;\n        var file = null;\n        file = new Blob([document], {\n          type: contentType\n        });\n\n        if (file.type == \"application/pdf\") {\n          var fileURL = URL.createObjectURL(file, fileName);\n          return window.open(fileURL);\n        } else {\n          toast.warning(\"Định dạng tệp tin không thể xem. Hãy tải xuống\");\n        }\n      });\n    };\n\n    _this.handleDownloadDocument = function (index) {\n      var file = _this.state.files[index];\n      var contentType = file.file.contentType;\n      var fileName = file.file.name;\n      var url = ConstantList.API_ENPOINT + \"/api/fileDownload/document/\" + file.file.id;\n      axios.get(url, {\n        responseType: \"arraybuffer\"\n      }).then(function (successResponse) {\n        var document = successResponse.data;\n        var file = new Blob([document], {\n          type: contentType\n        });\n        return FileSaver.saveAs(file, fileName);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(IntroduceTheProgramFilePoup, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this$props = this.props,\n          open = _this$props.open,\n          handleClose = _this$props.handleClose;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"fileUpload\",\n    value: function fileUpload(file) {\n      var _this2 = this;\n\n      var url = ConstantList.API_ENPOINT + \"/api/file/eQAResultReport/eQAResultReportDocument/uploadattachment\";\n      var formData = new FormData();\n      formData.append(\"uploadfile\", file); //Lưu ý tên 'uploadfile' phải trùng với tham số bên Server side\n\n      var config = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      };\n      return axios.post(url, formData, config).then(function (successResponse) {\n        var attachment = successResponse.data;\n        var attachments = _this2.state.attachments;\n\n        if (attachment) {\n          attachments.push(attachment);\n        }\n\n        _this2.setState({\n          attachments\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          open = _this$props2.open,\n          handleClose = _this$props2.handleClose,\n          handleSelect = _this$props2.handleSelect,\n          handleOKEditClose = _this$props2.handleOKEditClose,\n          t = _this$props2.t,\n          i18n = _this$props2.i18n;\n      var _this$state = this.state,\n          dragClass = _this$state.dragClass,\n          files = _this$state.files,\n          queProgress = _this$state.queProgress;\n      var isEmpty = files.length === 0;\n      var _this$state2 = this.state,\n          name = _this$state2.name,\n          code = _this$state2.code,\n          description = _this$state2.description,\n          attachments = _this$state2.attachments,\n          shouldOpenImportExcelDialog = _this$state2.shouldOpenImportExcelDialog,\n          shouldOpenNotificationPopup = _this$state2.shouldOpenNotificationPopup;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        open: open,\n        PaperComponent: PaperComponent,\n        maxWidth: \"md\",\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        style: {\n          cursor: \"move\"\n        },\n        id: \"draggable-dialog-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"mb-20 styleColor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }\n      }, t(\"general.saveUpdate\"))), /*#__PURE__*/React.createElement(ValidatorForm, {\n        ref: \"form\",\n        onSubmit: this.handleFormSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(DialogContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        className: \"mb-10\",\n        container: true,\n        spacing: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mt-15\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-wrap mb-24 mt-15\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"upload-single-file\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        className: \"capitalize\",\n        component: \"span\",\n        variant: \"contained\",\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 23\n        }\n      }, t(\"general.select_file\"))))), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"display-none\",\n        onChange: this.handleFileSelect,\n        id: \"upload-single-file\",\n        type: \"file\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"px-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(Card, {\n        className: \"mb-24\",\n        elevation: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        justify: \"center\",\n        alignItems: \"center\",\n        direction: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 4,\n        md: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 21\n        }\n      }, t(\"general.file_name\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 4,\n        md: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }\n      }, t(\"general.size\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 4,\n        md: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }\n      }, t(\"general.action\")))), /*#__PURE__*/React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 17\n        }\n      }), isEmpty && /*#__PURE__*/React.createElement(\"p\", {\n        className: \"px-16 center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 19\n        }\n      }, t(\"general.empty_file\")), files.map(function (item, index) {\n        var file = item.file,\n            uploading = item.uploading,\n            error = item.error,\n            progress = item.progress,\n            isEditDocument = item.isEditDocument,\n            contentSize = item.contentSize;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"px-16 py-16\",\n          key: file.name,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          container: true,\n          spacing: 2,\n          justify: \"center\",\n          alignItems: \"center\",\n          direction: \"row\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          lg: 4,\n          md: 4,\n          sm: 12,\n          xs: 12,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 25\n          }\n        }, file.name), isEditDocument === true ? /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          lg: 1,\n          md: 1,\n          sm: 12,\n          xs: 12,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 27\n          }\n        }, (file.contentSize / 1024 / 1024).toFixed(1), \" MB\") : /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          lg: 1,\n          md: 1,\n          sm: 12,\n          xs: 12,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 27\n          }\n        }, (file.size / 1024 / 1024).toFixed(1), \" MB\"), isEditDocument === true ? /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          lg: 2,\n          md: 2,\n          sm: 12,\n          xs: 12,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(EgretProgressBar, {\n          value: 100,\n          checked: _this3.state.uploaded,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 29\n          }\n        })) : /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          lg: 2,\n          md: 2,\n          sm: 12,\n          xs: 12,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(EgretProgressBar, {\n          value: progress,\n          checked: _this3.state.uploaded,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 29\n          }\n        })), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          lg: 1,\n          md: 1,\n          sm: 12,\n          xs: 12,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 25\n          }\n        }, error && /*#__PURE__*/React.createElement(Icon, {\n          color: \"error\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 37\n          }\n        }, \"error\")), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          lg: 4,\n          md: 4,\n          sm: 12,\n          xs: 12,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"flex\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 27\n          }\n        }, !isEditDocument && /*#__PURE__*/React.createElement(IconButton, {\n          title: t(\"general.upload\"),\n          onClick: function onClick() {\n            return _this3.uploadSingleFile(index);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          color: \"primary\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 33\n          }\n        }, \"cloud_upload\")), isEditDocument && /*#__PURE__*/React.createElement(IconButton, {\n          title: t(\"general.viewDocument\"),\n          onClick: function onClick() {\n            return _this3.handleViewDocument(index);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          color: \"primary\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 33\n          }\n        }, \"visibility\")), isEditDocument && /*#__PURE__*/React.createElement(IconButton, {\n          title: t(\"general.downloadDocument\"),\n          onClick: function onClick() {\n            return _this3.handleDownloadDocument(index);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          color: \"default\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(GetAppSharpIcon, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 35\n          }\n        }))), /*#__PURE__*/React.createElement(IconButton, {\n          title: t(\"general.removeDocument\"),\n          onClick: function onClick() {\n            return _this3.handleSingleRemove(index);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          color: \"error\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 31\n          }\n        }, \"delete\"))))));\n      })))), /*#__PURE__*/React.createElement(DialogActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-space-between flex-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        className: \"mr-36\",\n        color: \"secondary\",\n        onClick: function onClick() {\n          return _this3.props.handleClose();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 15\n        }\n      }, t(\"general.cancel\")), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return handleSelect(_this3.state.attachments);\n        } // type=\"submit\"\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 15\n        }\n      }, t(\"general.save\"))))));\n    }\n  }]);\n\n  return IntroduceTheProgramFilePoup;\n}(Component);\n\nexport default IntroduceTheProgramFilePoup;","map":{"version":3,"sources":["E:/DoAnTotNghiep/code/Client-V2/src/app/views/IntroduceTheProgram/IntroduceTheProgramFilePoup.jsx"],"names":["React","Component","Dialog","Button","Grid","DialogActions","Card","Divider","Icon","IconButton","ValidatorForm","TextValidator","DialogTitle","DialogContent","Draggable","Paper","EgretProgressBar","axios","ConstantList","FileSaver","GetAppSharpIcon","CancelIcon","toast","configure","PaperComponent","props","IntroduceTheProgramFilePoup","state","name","code","content","description","shouldOpenImportExcelDialog","shouldOpenNotificationPopup","dragClass","attachments","files","statusList","queProgress","progress","uploaded","handleChange","event","source","persist","list","setState","isActive","target","checked","forEach","el","value","push","handleDialogClose","handleOKEditClose","updatePageData","handleFileUploadOnSelect","fileUpload","then","res","info","handleFileSelect","iterator","file","uploading","error","handleSingleRemove","index","splice","uploadSingleFile","allFiles","handleViewDocument","contentType","fileName","url","API_ENPOINT","id","get","responseType","successResponse","document","data","Blob","type","fileURL","URL","createObjectURL","window","open","warning","handleDownloadDocument","saveAs","handleClose","formData","FormData","append","config","headers","post","attachment","handleSelect","t","i18n","isEmpty","length","cursor","handleFormSubmit","map","item","isEditDocument","contentSize","toFixed","size"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  Dialog,\r\n  Button,\r\n  Grid,\r\n  DialogActions,\r\n  Card,\r\n  Divider,\r\n  Icon,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\r\n// import { getAllAssetTypes, addNewOrUpdateAssetType, searchByPage, checkCode } from './AssetTypeService';\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport Draggable from \"react-draggable\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { EgretProgressBar } from \"egret\";\r\n// import NotificationPopup from '../Component/NotificationPopup/NotificationPopup'\r\nimport axios from \"axios\";\r\nimport ConstantList from \"../../appConfig\";\r\nimport FileSaver from \"file-saver\";\r\nimport GetAppSharpIcon from \"@material-ui/icons/GetAppSharp\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"../../../styles/views/_style.scss\";\r\ntoast.configure();\r\n\r\nfunction PaperComponent(props) {\r\n  return (\r\n    <Draggable\r\n      handle=\"#draggable-dialog-title\"\r\n      cancel={'[class*=\"MuiDialogContent-root\"]'}\r\n    >\r\n      <Paper {...props} />\r\n    </Draggable>\r\n  );\r\n}\r\nclass IntroduceTheProgramFilePoup extends Component {\r\n  state = {\r\n    name: \"\",\r\n    code: \"\",\r\n    content: \"\",\r\n    description: \"\",\r\n    shouldOpenImportExcelDialog: false,\r\n    shouldOpenNotificationPopup: false,\r\n    dragClass: \"\",\r\n    attachments: [],\r\n    files: [],\r\n    statusList: [],\r\n    queProgress: 0,\r\n    progress: 0,\r\n    uploaded: false,\r\n  };\r\n\r\n  handleChange = (event, source) => {\r\n    event.persist();\r\n    let { files } = this.state;\r\n    let list = [];\r\n    if (source === \"switch\") {\r\n      this.setState({ isActive: event.target.checked });\r\n      return;\r\n    }\r\n    files.forEach((el) => {\r\n      // el[\"name\"] = event.target.value\r\n      el.name = event.target.value;\r\n      list.push(el);\r\n    });\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      files: list,\r\n    });\r\n  };\r\n\r\n  componentWillMount() {\r\n    let { open, handleClose } = this.props;\r\n  }\r\n  componentDidMount() {}\r\n  handleDialogClose = () => {\r\n    this.setState({\r\n      shouldOpenNotificationPopup: false,\r\n      shouldOpenImportExcelDialog: false,\r\n    });\r\n  };\r\n\r\n  handleOKEditClose = () => {\r\n    this.setState({\r\n      shouldOpenNotificationPopup: false,\r\n      shouldOpenImportExcelDialog: false,\r\n    });\r\n    this.updatePageData();\r\n  };\r\n\r\n  handleFileUploadOnSelect = (event) => {\r\n    let files = event.target.files;\r\n    this.fileUpload(files[0]).then((res) => {\r\n      toast.info(\"Tải tập tin thành công\");\r\n      // alert(\"File uploaded successfully.\")\r\n    });\r\n  };\r\n  handleFileSelect = (event) => {\r\n    let files = event.target.files;\r\n    let list = [...this.state.files];\r\n\r\n    for (const iterator of files) {\r\n      list.push({\r\n        file: iterator,\r\n        uploading: false,\r\n        error: false,\r\n        progress: 0,\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      files: [...list],\r\n    });\r\n  };\r\n\r\n  handleSingleRemove = (index) => {\r\n    let files = [...this.state.files];\r\n    let attachments = [...this.state.attachments];\r\n    files.splice(index, 1);\r\n    attachments.splice(index, 1);\r\n    this.setState(\r\n      {\r\n        files: [...files],\r\n        attachments: [...attachments],\r\n      },\r\n      () => {}\r\n    );\r\n  };\r\n\r\n  fileUpload(file) {\r\n    const url =\r\n      ConstantList.API_ENPOINT +\r\n      \"/api/file/eQAResultReport/eQAResultReportDocument/uploadattachment\";\r\n    let formData = new FormData();\r\n    formData.append(\"uploadfile\", file); //Lưu ý tên 'uploadfile' phải trùng với tham số bên Server side\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n    return axios.post(url, formData, config).then((successResponse) => {\r\n      let attachment = successResponse.data;\r\n      let { attachments } = this.state;\r\n      if (attachment) {\r\n        attachments.push(attachment);\r\n      }\r\n      this.setState({ attachments });\r\n    });\r\n  }\r\n\r\n  uploadSingleFile = (index) => {\r\n    let allFiles = [...this.state.files];\r\n    let file = this.state.files[index];\r\n    this.setState({ progress: 50 });\r\n    this.fileUpload(file.file).then((res) => {\r\n      // alert(\"File uploaded successfully.\")\r\n      this.setState({ uploaded: true });\r\n      toast.info(\"Tải tập tin thành công\");\r\n    });\r\n\r\n    allFiles[index] = { ...file, uploading: true, error: false };\r\n\r\n    this.setState({\r\n      files: [...allFiles],\r\n    });\r\n  };\r\n\r\n  handleViewDocument = (index) => {\r\n    // debugger\r\n    let file = this.state.files[index];\r\n    let contentType = file.file.contentType;\r\n    let fileName = file.file.name;\r\n    const url =\r\n      ConstantList.API_ENPOINT + \"/api/fileDownload/document/\" + file.file.id;\r\n    axios.get(url, { responseType: \"arraybuffer\" }).then((successResponse) => {\r\n      let document = successResponse.data;\r\n      let file = null;\r\n      file = new Blob([document], { type: contentType });\r\n      if (file.type == \"application/pdf\") {\r\n        let fileURL = URL.createObjectURL(file, fileName);\r\n        return window.open(fileURL);\r\n      } else {\r\n        toast.warning(\"Định dạng tệp tin không thể xem. Hãy tải xuống\");\r\n      }\r\n    });\r\n  };\r\n  handleDownloadDocument = (index) => {\r\n    let file = this.state.files[index];\r\n    let contentType = file.file.contentType;\r\n    let fileName = file.file.name;\r\n    const url =\r\n      ConstantList.API_ENPOINT + \"/api/fileDownload/document/\" + file.file.id;\r\n    axios.get(url, { responseType: \"arraybuffer\" }).then((successResponse) => {\r\n      let document = successResponse.data;\r\n      let file = new Blob([document], { type: contentType });\r\n      return FileSaver.saveAs(file, fileName);\r\n    });\r\n  };\r\n  render() {\r\n    let {\r\n      open,\r\n      handleClose,\r\n      handleSelect,\r\n      handleOKEditClose,\r\n      t,\r\n      i18n,\r\n    } = this.props;\r\n    let { dragClass, files, queProgress } = this.state;\r\n    let isEmpty = files.length === 0;\r\n\r\n    let {\r\n      name,\r\n      code,\r\n      description,\r\n      attachments,\r\n      shouldOpenImportExcelDialog,\r\n      shouldOpenNotificationPopup,\r\n    } = this.state;\r\n\r\n    return (\r\n      <Dialog\r\n        open={open}\r\n        PaperComponent={PaperComponent}\r\n        maxWidth={\"md\"}\r\n        fullWidth\r\n      >\r\n        <DialogTitle style={{ cursor: \"move\" }} id=\"draggable-dialog-title\">\r\n          <span className=\"mb-20 styleColor\">{t(\"general.saveUpdate\")}</span>\r\n        </DialogTitle>\r\n        <ValidatorForm ref=\"form\" onSubmit={this.handleFormSubmit}>\r\n          <DialogContent>\r\n            <Grid className=\"mb-10\" container spacing={1}>\r\n              {/* <Grid item md={12} sm={12} xs={12}>\r\n                <TextValidator\r\n                  className=\"w-100\"\r\n                  label={\r\n                    <span>\r\n                      <span style={{ color: \"red\" }}>*</span>\r\n                      {t(\"file.name\")}\r\n                    </span>\r\n                  }\r\n                  onChange={this.handleChange}\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  validators={[\"required\"]}\r\n                  errorMessages={[\"This field is required\"]}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                />\r\n              </Grid> */}\r\n            </Grid>\r\n            <div className=\"mt-15\">\r\n              <div className=\"flex flex-wrap mb-24 mt-15\">\r\n                <label htmlFor=\"upload-single-file\">\r\n                  <Button\r\n                    size=\"small\"\r\n                    className=\"capitalize\"\r\n                    component=\"span\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                  >\r\n                    <div className=\"flex flex-middle\">\r\n                      <span>{t(\"general.select_file\")}</span>\r\n                    </div>\r\n                  </Button>\r\n                </label>\r\n                <input\r\n                  className=\"display-none\"\r\n                  onChange={this.handleFileSelect}\r\n                  id=\"upload-single-file\"\r\n                  type=\"file\"\r\n                />\r\n                <div className=\"px-16\"></div>\r\n              </div>\r\n              <Card className=\"mb-24\" elevation={2}>\r\n                <div className=\"p-16\">\r\n                  <Grid\r\n                    container\r\n                    spacing={2}\r\n                    justify=\"center\"\r\n                    alignItems=\"center\"\r\n                    direction=\"row\"\r\n                  >\r\n                    <Grid item lg={4} md={4}>\r\n                      {t(\"general.file_name\")}\r\n                    </Grid>\r\n                    <Grid item lg={4} md={4}>\r\n                      {t(\"general.size\")}\r\n                    </Grid>\r\n                    <Grid item lg={4} md={4}>\r\n                      {t(\"general.action\")}\r\n                    </Grid>\r\n                  </Grid>\r\n                </div>\r\n                <Divider></Divider>\r\n\r\n                {isEmpty && (\r\n                  <p className=\"px-16 center\">{t(\"general.empty_file\")}</p>\r\n                )}\r\n\r\n                {files.map((item, index) => {\r\n                  let {\r\n                    file,\r\n                    uploading,\r\n                    error,\r\n                    progress,\r\n                    isEditDocument,\r\n                    contentSize,\r\n                  } = item;\r\n                  return (\r\n                    <div className=\"px-16 py-16\" key={file.name}>\r\n                      <Grid\r\n                        container\r\n                        spacing={2}\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                        direction=\"row\"\r\n                      >\r\n                        <Grid item lg={4} md={4} sm={12} xs={12}>\r\n                          {file.name}\r\n                        </Grid>\r\n                        {isEditDocument === true ? (\r\n                          <Grid item lg={1} md={1} sm={12} xs={12}>\r\n                            {(file.contentSize / 1024 / 1024).toFixed(1)} MB\r\n                          </Grid>\r\n                        ) : (\r\n                          <Grid item lg={1} md={1} sm={12} xs={12}>\r\n                            {(file.size / 1024 / 1024).toFixed(1)} MB\r\n                          </Grid>\r\n                        )}\r\n                        {isEditDocument === true ? (\r\n                          <Grid item lg={2} md={2} sm={12} xs={12}>\r\n                            <EgretProgressBar\r\n                              value={100}\r\n                              checked={this.state.uploaded}\r\n                            ></EgretProgressBar>\r\n                          </Grid>\r\n                        ) : (\r\n                          <Grid item lg={2} md={2} sm={12} xs={12}>\r\n                            <EgretProgressBar\r\n                              value={progress}\r\n                              checked={this.state.uploaded}\r\n                            ></EgretProgressBar>\r\n                          </Grid>\r\n                        )}\r\n                        <Grid item lg={1} md={1} sm={12} xs={12}>\r\n                          {error && <Icon color=\"error\">error</Icon>}\r\n                          {/* {uploading && <Icon className=\"text-green\">done</Icon>} */}\r\n                        </Grid>\r\n                        <Grid item lg={4} md={4} sm={12} xs={12}>\r\n                          <div className=\"flex\">\r\n                            {!isEditDocument && (\r\n                              <IconButton\r\n                                title={t(\"general.upload\")}\r\n                                onClick={() => this.uploadSingleFile(index)}\r\n                              >\r\n                                <Icon color=\"primary\">cloud_upload</Icon>\r\n                              </IconButton>\r\n                            )}\r\n                            {isEditDocument && (\r\n                              <IconButton\r\n                                title={t(\"general.viewDocument\")}\r\n                                onClick={() => this.handleViewDocument(index)}\r\n                              >\r\n                                <Icon color=\"primary\">visibility</Icon>\r\n                              </IconButton>\r\n                            )}\r\n\r\n                            {isEditDocument && (\r\n                              <IconButton\r\n                                title={t(\"general.downloadDocument\")}\r\n                                onClick={() =>\r\n                                  this.handleDownloadDocument(index)\r\n                                }\r\n                              >\r\n                                <Icon color=\"default\">\r\n                                  <GetAppSharpIcon />\r\n                                </Icon>\r\n                              </IconButton>\r\n                            )}\r\n                            <IconButton\r\n                              title={t(\"general.removeDocument\")}\r\n                              onClick={() => this.handleSingleRemove(index)}\r\n                            >\r\n                              <Icon color=\"error\">delete</Icon>\r\n                            </IconButton>\r\n                          </div>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </Card>\r\n            </div>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <div className=\"flex flex-space-between flex-middle\">\r\n              <Button\r\n                variant=\"contained\"\r\n                className=\"mr-36\"\r\n                color=\"secondary\"\r\n                onClick={() => this.props.handleClose()}\r\n              >\r\n                {t(\"general.cancel\")}\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => handleSelect(this.state.attachments)}\r\n                // type=\"submit\"\r\n              >\r\n                {t(\"general.save\")}\r\n              </Button>\r\n            </div>\r\n          </DialogActions>\r\n        </ValidatorForm>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default IntroduceTheProgramFilePoup;\r\n"]},"metadata":{},"sourceType":"module"}